@import "tailwindcss";

:root {
  /* Base (Dark = neutral, not blue) */
  --bg0: #0b0c0e;

  /* Dynamic tokens */
  --stroke: rgba(255, 255, 255, 0.14);
  --stroke-hi: rgba(255, 255, 255, 0.22);
  --text0: rgba(255, 255, 255, 0.92);
  --text1: rgba(255, 255, 255, 0.72);
  --text2: rgba(255, 255, 255, 0.50);

  /* Materials */
  --shadow: 0 18px 60px rgba(0, 0, 0, 0.45);
  --blur: 22px;
  --radius: 16px;

  /* Typography scale (Apple-like: tight hierarchy, generous line-height) */
  --fs-title: 15px;
  --fs-body: 13px;
  --fs-sub: 12px;
  --fs-micro: 11px;

  --lh-title: 1.25;
  --lh-body: 1.45;
  --lh-sub: 1.35;

  --tracking-title: -0.012em;
  --tracking-body: -0.006em;

  /* Motion */
  --ease-apple: cubic-bezier(0.2, 0.8, 0.2, 1);
  --t-fast: 140ms;
  --t-med: 220ms;

  --background: var(--bg0);
  --foreground: var(--text0);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

html,
body {
  height: 100%;
}

/* Environment lighting (Dark): neutral base + very subtle edge chroma */
body {
  background:
    radial-gradient(900px 680px at 12% -8%, rgba(120, 160, 255, 0.09), transparent 60%),
    radial-gradient(900px 680px at 110% 8%, rgba(120, 255, 220, 0.06), transparent 62%),
    radial-gradient(900px 680px at 36% 118%, rgba(255, 120, 200, 0.06), transparent 62%),
    var(--bg0);
  color: var(--foreground);

  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    "SF Pro Display",
    "SF Pro Text",
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    "Apple Color Emoji",
    "Segoe UI Emoji";

  font-size: var(--fs-body);
  line-height: var(--lh-body);
  letter-spacing: var(--tracking-body);

  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-kerning: normal;

  font-variant-numeric: tabular-nums;
  font-feature-settings: "kern" 1, "liga" 1;
}

/* Type tokens */
.ui-title {
  font-size: var(--fs-title);
  line-height: var(--lh-title);
  letter-spacing: var(--tracking-title);
  font-weight: 600;
  color: var(--text0);
}

.ui-subtitle {
  font-size: var(--fs-sub);
  line-height: var(--lh-sub);
  letter-spacing: var(--tracking-body);
  font-weight: 500;
  color: rgba(255, 255, 255, 0.64);
}

.ui-micro {
  font-size: var(--fs-micro);
  line-height: 1.25;
  letter-spacing: var(--tracking-body);
  color: rgba(255, 255, 255, 0.46);
}

.ui-mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-variant-numeric: tabular-nums;
}

/* Liquid Glass primitives (material-first) */
.glass {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.10), rgba(255, 255, 255, 0.06));
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
}

.glass-subtle {
  background: linear-gradient(180deg, rgba(255, 255, 255, 0.07), rgba(255, 255, 255, 0.04));
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: var(--radius);
  backdrop-filter: blur(calc(var(--blur) * 0.92));
  -webkit-backdrop-filter: blur(calc(var(--blur) * 0.92));
}

/* Rim highlight: thin, not a full overlay wash */
.glass-highlight {
  position: relative;
}

.glass-highlight::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0.02) 38%, rgba(255, 255, 255, 0.00)),
    radial-gradient(900px 240px at 50% 0%, rgba(255, 255, 255, 0.20), transparent 55%);
  opacity: 0.38;
}

/* Subtle grain to avoid “plastic” look */
.glass-grain {
  position: relative;
}

.glass-grain::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.14'/%3E%3C/svg%3E");
  opacity: 0.07;
  mix-blend-mode: overlay;
}

/* Liquid selection highlight (shared highlight layer) */
.liquid-item {
  position: relative;
  overflow: hidden;
}

.liquid-item::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
  transform: translateY(2px);
  transition: opacity var(--t-med) var(--ease-apple), transform var(--t-med) var(--ease-apple);
  background:
    radial-gradient(700px 220px at 20% 30%, rgba(255, 255, 255, 0.14), transparent 60%),
    radial-gradient(520px 220px at 80% 70%, rgba(120, 160, 255, 0.08), transparent 62%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
}

.liquid-item:hover::after {
  opacity: 0.55;
  transform: translateY(0px);
}

.liquid-item[data-selected="true"]::after {
  opacity: 0.92;
  transform: translateY(0px);
}

.pressable {
  transition:
    transform var(--t-fast) var(--ease-apple),
    border-color var(--t-med) var(--ease-apple),
    opacity var(--t-med) var(--ease-apple);
}

.pressable:hover {
  border-color: var(--stroke-hi);
}

.pressable:active {
  transform: translateY(1px) scale(0.998);
}

.kbd {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 11px;
  color: rgba(255, 255, 255, 0.78);
  background: rgba(0, 0, 0, 0.35);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-bottom-color: rgba(0, 0, 0, 0.45);
  border-radius: 8px;
  padding: 2px 6px;
}



/* Controls (shared) */
.ui-input {
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  color: var(--text0);
  padding: 10px 12px;
  outline: none;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
  transition:
    border-color var(--t-med) var(--ease-apple),
    background-color var(--t-med) var(--ease-apple),
    box-shadow var(--t-med) var(--ease-apple),
    transform var(--t-fast) var(--ease-apple);
}

.ui-input::placeholder {
  color: rgba(255, 255, 255, 0.34);
}

.ui-input:focus {
  border-color: rgba(255, 255, 255, 0.22);
  box-shadow: 0 0 0 3px rgba(120, 160, 255, 0.16), inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.ui-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.08);
  color: var(--text0);
  padding: 10px 12px;
  font-size: var(--fs-title);
  line-height: var(--lh-title);
  letter-spacing: var(--tracking-title);
  font-weight: 600;
  user-select: none;
}

.ui-button:hover {
  border-color: var(--stroke-hi);
}

.ui-button:active {
  transform: translateY(1px) scale(0.998);
}

.ui-button[aria-disabled='true'],
.ui-button:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

/* Theme overrides: next-themes sets data-theme on <html> */
:root[data-theme="light"] {
  --bg0: #f6f7f8;

  /* In light mode, glass needs stronger separators and thinner shadows */
  --stroke: rgba(0, 0, 0, 0.10);
  --stroke-hi: rgba(0, 0, 0, 0.16);
  --sep: rgba(0, 0, 0, 0.09);

  --text0: rgba(0, 0, 0, 0.90);
  --text1: rgba(0, 0, 0, 0.68);
  --text2: rgba(0, 0, 0, 0.48);

  --shadow: 0 14px 44px rgba(0, 0, 0, 0.10);

  /* Light glass tints */
  --glass-top: rgba(255, 255, 255, 0.72);
  --glass-bot: rgba(255, 255, 255, 0.38);
  --glass-sub-top: rgba(255, 255, 255, 0.60);
  --glass-sub-bot: rgba(255, 255, 255, 0.30);
}


/* Environment lighting (Light): clean + airy, not flat white */
:root[data-theme="light"] body {
  background:
    radial-gradient(1200px 780px at 18% -10%, rgba(90, 140, 255, 0.18), transparent 58%),
    radial-gradient(900px 700px at 110% 12%, rgba(90, 255, 220, 0.12), transparent 62%),
    radial-gradient(900px 700px at 36% 118%, rgba(255, 110, 200, 0.10), transparent 62%),
    var(--bg0);
}

:root[data-theme="light"] .ui-subtitle {
  color: rgba(0, 0, 0, 0.62);
}

:root[data-theme="light"] .ui-micro {
  color: rgba(0, 0, 0, 0.48);
}

/* Light glass = material (not “white card”) */
:root[data-theme="light"] .glass {
  background: linear-gradient(180deg, var(--glass-top), var(--glass-bot));
  border: 1px solid var(--sep);
  box-shadow: 0 10px 26px rgba(0, 0, 0, 0.10);
}


:root[data-theme="light"] .glass-subtle {
  background: linear-gradient(180deg, var(--glass-sub-top), var(--glass-sub-bot));
  border: 1px solid rgba(0, 0, 0, 0.07);
}


:root[data-theme="light"] .glass-highlight::before {
  opacity: 0.55;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.80), rgba(255, 255, 255, 0.00) 44%),
    radial-gradient(900px 240px at 50% 0%, rgba(255, 255, 255, 0.45), transparent 58%);
}


:root[data-theme="light"] .kbd {
  color: rgba(0, 0, 0, 0.70);
  background: rgba(255, 255, 255, 0.56);
  border: 1px solid rgba(0, 0, 0, 0.10);
  border-bottom-color: rgba(0, 0, 0, 0.14);
}

/* Smooth theme switch (respect reduced motion) */
@media (prefers-reduced-motion: no-preference) {
  * {
    transition: background-color var(--t-med) var(--ease-apple), color var(--t-med) var(--ease-apple),
      border-color var(--t-med) var(--ease-apple), box-shadow var(--t-med) var(--ease-apple);
  }
}

:root[data-theme="light"] .ui-input {
  border: 1px solid rgba(0, 0, 0, 0.10);
  background: rgba(255, 255, 255, 0.56);
  color: var(--text0);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.75);
}

:root[data-theme="light"] .ui-input::placeholder {
  color: rgba(0, 0, 0, 0.34);
}

:root[data-theme="light"] .ui-input:focus {
  border-color: rgba(0, 0, 0, 0.16);
  box-shadow: 0 0 0 3px rgba(90, 140, 255, 0.18), inset 0 1px 0 rgba(255, 255, 255, 0.85);
}

:root[data-theme="light"] .ui-button {
  border: 1px solid rgba(0, 0, 0, 0.10);
  background: rgba(255, 255, 255, 0.62);
  color: var(--text0);
}
