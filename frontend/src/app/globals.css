@import "tailwindcss";

:root {
  /* Base (Dark = neutral, not blue) */
  --bg0: #0b0c0e;

  /* Dynamic tokens */
  --stroke: rgba(255, 255, 255, 0.14);
  --stroke-hi: rgba(255, 255, 255, 0.22);
  --text0: rgba(255, 255, 255, 0.92);
  --text1: rgba(255, 255, 255, 0.72);
  --text2: rgba(255, 255, 255, 0.50);

  /* Materials */
  --shadow: 0 18px 60px rgba(0, 0, 0, 0.45);
  --blur: 22px;
  --blur-strong: 34px;
  --blur-soft: 22px;
  --radius: 16px;

  /* Typography scale (Apple-like: tight hierarchy, generous line-height) */
  --fs-title: 15px;
  --fs-body: 13px;
  --fs-sub: 12px;
  --fs-micro: 11px;

  --lh-title: 1.25;
  --lh-body: 1.45;
  --lh-sub: 1.35;

  --tracking-title: -0.012em;
  --tracking-body: -0.006em;

  /* Motion */
  --ease-apple: cubic-bezier(0.2, 0.8, 0.2, 1);
  --t-fast: 140ms;
  --t-med: 220ms;

  --background: var(--bg0);
  --foreground: var(--text0);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

html,
body {
  height: 100%;
}

/* Environment lighting (Dark): neutral base + very subtle edge chroma */
body {
  background:
    radial-gradient(900px 680px at 12% -8%, rgba(120, 160, 255, 0.09), transparent 60%),
    radial-gradient(900px 680px at 110% 8%, rgba(120, 255, 220, 0.06), transparent 62%),
    radial-gradient(900px 680px at 36% 118%, rgba(255, 120, 200, 0.06), transparent 62%),
    var(--bg0);
  color: var(--foreground);

  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    "SF Pro Display",
    "SF Pro Text",
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    "Apple Color Emoji",
    "Segoe UI Emoji";

  font-size: var(--fs-body);
  line-height: var(--lh-body);
  letter-spacing: var(--tracking-body);

  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-kerning: normal;

  font-variant-numeric: tabular-nums;
  font-feature-settings: "kern" 1, "liga" 1;
}

/* Type tokens */
.ui-title {
  font-size: var(--fs-title);
  line-height: var(--lh-title);
  letter-spacing: var(--tracking-title);
  font-weight: 600;
  color: var(--text0);
}

.ui-subtitle {
  font-size: var(--fs-sub);
  line-height: var(--lh-sub);
  letter-spacing: var(--tracking-body);
  font-weight: 500;
  color: rgba(255, 255, 255, 0.64);
}

.ui-micro {
  font-size: var(--fs-micro);
  line-height: 1.25;
  letter-spacing: var(--tracking-body);
  color: rgba(255, 255, 255, 0.46);
}

.ui-mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-variant-numeric: tabular-nums;
}

/* Liquid Glass primitives (material-first) */
.glass {
  position: relative;
  overflow: hidden;

  background: linear-gradient(180deg, rgba(255, 255, 255, 0.10), rgba(255, 255, 255, 0.06));
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  backdrop-filter: blur(var(--blur-strong)) saturate(1.60) contrast(1.07);
  -webkit-backdrop-filter: blur(var(--blur-strong)) saturate(1.60) contrast(1.07);
}

/* Liquid Glass v2: thickness rim + specular + refraction */
.glass::before,
.glass-subtle::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background:
    radial-gradient(1000px 280px at 18% -12%, rgba(255,255,255,0.34), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.06) 42%, rgba(0,0,0,0.10)),
    linear-gradient(180deg, rgba(255,255,255,0.35), rgba(255,255,255,0.00) 18%);
  mix-blend-mode: screen;
  opacity: 0.65;
}

.glass::after,
.glass-subtle::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.18),
    inset 0 -1px 0 rgba(0,0,0,0.22),
    inset 0 2px 0 rgba(255,255,255,0.10);
  opacity: 0.9;
}


.glass-subtle {
  position: relative;
  overflow: hidden;

  background: linear-gradient(180deg, rgba(255, 255, 255, 0.07), rgba(255, 255, 255, 0.04));
  border: 1px solid rgba(255, 255, 255, 0.10);
  border-radius: var(--radius);
  backdrop-filter: blur(var(--blur-soft)) saturate(1.52) contrast(1.06);
  -webkit-backdrop-filter: blur(var(--blur-soft)) saturate(1.52) contrast(1.06);
}

/* Rim highlight: thin, not a full overlay wash */
.glass-highlight {
  position: relative;
}

.glass-highlight::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0.02) 38%, rgba(255, 255, 255, 0.00)),
    radial-gradient(900px 240px at 50% 0%, rgba(255, 255, 255, 0.20), transparent 55%);
  opacity: 0.38;
}

/* Subtle grain to avoid “plastic” look */
.glass-grain {
  position: relative;
}

.glass-grain::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='140' height='140'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='140' height='140' filter='url(%23n)' opacity='.14'/%3E%3C/svg%3E");
  opacity: 0.07;
  mix-blend-mode: overlay;
}

/* Liquid selection highlight (shared highlight layer) */
.liquid-item {
  position: relative;
  overflow: hidden;
}

.liquid-item::after {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0;
  transform: translateY(2px);
  transition: opacity var(--t-med) var(--ease-apple), transform var(--t-med) var(--ease-apple);
  background:
    radial-gradient(700px 220px at 20% 30%, rgba(255, 255, 255, 0.14), transparent 60%),
    radial-gradient(520px 220px at 80% 70%, rgba(120, 160, 255, 0.08), transparent 62%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
}

.liquid-item:hover::after {
  opacity: 0.55;
  transform: translateY(0px);
}

.liquid-item[data-selected="true"]::after {
  opacity: 0.92;
  transform: translateY(0px);
}

.pressable {
  transition:
    transform var(--t-fast) var(--ease-apple),
    border-color var(--t-med) var(--ease-apple),
    opacity var(--t-med) var(--ease-apple);
}

.pressable:hover {
  border-color: var(--stroke-hi);
}

.pressable:active {
  transform: translateY(1px) scale(0.998);
}

.kbd {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 11px;
  color: rgba(255, 255, 255, 0.78);
  background: rgba(0, 0, 0, 0.35);
  border: 1px solid rgba(255, 255, 255, 0.12);
  border-bottom-color: rgba(0, 0, 0, 0.45);
  border-radius: 8px;
  padding: 2px 6px;
}



/* Controls (shared) */
.ui-input {
  width: 100%;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(0, 0, 0, 0.32);
  color: var(--text0);
  padding: 10px 12px;
  outline: none;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
  transition:
    border-color var(--t-med) var(--ease-apple),
    background-color var(--t-med) var(--ease-apple),
    box-shadow var(--t-med) var(--ease-apple),
    transform var(--t-fast) var(--ease-apple);
}

.ui-input::placeholder {
  color: rgba(255, 255, 255, 0.34);
}

.ui-input:focus {
  border-color: rgba(255, 255, 255, 0.22);
  box-shadow: 0 0 0 3px rgba(120, 160, 255, 0.16), inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.ui-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.12);
  background: rgba(255, 255, 255, 0.08);
  color: var(--text0);
  padding: 10px 12px;
  font-size: var(--fs-title);
  line-height: var(--lh-title);
  letter-spacing: var(--tracking-title);
  font-weight: 600;
  user-select: none;
}

.ui-button:hover {
  border-color: var(--stroke-hi);
}

.ui-button:active {
  transform: translateY(1px) scale(0.998);
}

.ui-button[aria-disabled='true'],
.ui-button:disabled {
  opacity: 0.55;
  cursor: not-allowed;
}

/* Theme overrides: next-themes sets data-theme on <html> */
:root[data-theme="light"] {
  --bg0: #f6f7f8;

  /* In light mode, glass needs stronger separators and thinner shadows */
  --stroke: rgba(0, 0, 0, 0.10);
  --stroke-hi: rgba(0, 0, 0, 0.16);
  --sep: rgba(0, 0, 0, 0.09);

  --text0: rgba(0, 0, 0, 0.90);
  --text1: rgba(0, 0, 0, 0.68);
  --text2: rgba(0, 0, 0, 0.48);

  --shadow: 0 14px 44px rgba(0, 0, 0, 0.10);

  /* Light glass tints */
  --glass-top: rgba(255, 255, 255, 0.46);
  --glass-bot: rgba(255, 255, 255, 0.12);
  --glass-sub-top: rgba(255, 255, 255, 0.32);
  --glass-sub-bot: rgba(255, 255, 255, 0.08);
}


/* Environment lighting (Light): clean + airy, not flat white */
:root[data-theme="light"] body {
  background:
    radial-gradient(1200px 780px at 18% -10%, rgba(90, 140, 255, 0.18), transparent 58%),
    radial-gradient(900px 700px at 110% 12%, rgba(90, 255, 220, 0.12), transparent 62%),
    radial-gradient(900px 700px at 36% 118%, rgba(255, 110, 200, 0.10), transparent 62%),
    var(--bg0);
}

:root[data-theme="light"] .ui-subtitle {
  color: rgba(0, 0, 0, 0.62);
}

:root[data-theme="light"] .ui-micro {
  color: rgba(0, 0, 0, 0.48);
}

/* Light glass = material (not “white card”) */
:root[data-theme="light"] .glass {
  position: relative;
  overflow: hidden;

  background: linear-gradient(180deg, var(--glass-top), var(--glass-bot));
  border: 1px solid rgba(255,255,255,0.20);
  box-shadow: 0 10px 26px rgba(0, 0, 0, 0.10);
}


:root[data-theme="light"] .glass-subtle {
  position: relative;
  overflow: hidden;

  background: linear-gradient(180deg, var(--glass-sub-top), var(--glass-sub-bot));
  border: 1px solid rgba(255,255,255,0.16);
}


:root[data-theme="light"] .glass-highlight::before {
  opacity: 0.55;
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.80), rgba(255, 255, 255, 0.00) 44%),
    radial-gradient(900px 240px at 50% 0%, rgba(255, 255, 255, 0.45), transparent 58%);
}


:root[data-theme="light"] .kbd {
  color: rgba(0, 0, 0, 0.70);
  background: rgba(255, 255, 255, 0.56);
  border: 1px solid rgba(0, 0, 0, 0.10);
  border-bottom-color: rgba(0, 0, 0, 0.14);
}

/* Smooth theme switch (respect reduced motion) */
@media (prefers-reduced-motion: no-preference) {
  * {
    transition: background-color var(--t-med) var(--ease-apple), color var(--t-med) var(--ease-apple),
      border-color var(--t-med) var(--ease-apple), box-shadow var(--t-med) var(--ease-apple);
  }
}

:root[data-theme="light"] .ui-input {
  border: 1px solid rgba(0, 0, 0, 0.10);
  background: rgba(255, 255, 255, 0.56);
  color: var(--text0);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.75);
}

:root[data-theme="light"] .ui-input::placeholder {
  color: rgba(0, 0, 0, 0.34);
}

:root[data-theme="light"] .ui-input:focus {
  border-color: rgba(0, 0, 0, 0.16);
  box-shadow: 0 0 0 3px rgba(90, 140, 255, 0.18), inset 0 1px 0 rgba(255, 255, 255, 0.85);
}

:root[data-theme="light"] .ui-button {
  border: 1px solid rgba(0, 0, 0, 0.10);
  background: rgba(255, 255, 255, 0.62);
  color: var(--text0);
}


:root[data-theme="light"] .liquid-item::after {
  background:
    radial-gradient(720px 240px at 18% 30%, rgba(255, 255, 255, 0.22), transparent 60%),
    radial-gradient(520px 220px at 85% 70%, rgba(90, 140, 255, 0.10), transparent 62%),
    linear-gradient(180deg, rgba(255, 255, 255, 0.14), rgba(255, 255, 255, 0.06));
}

:root[data-theme="light"] .glass-grain::after {
  opacity: 0.05;
}


:root[data-theme="light"] .glass::before,
:root[data-theme="light"] .glass-subtle::before {
  background:
    radial-gradient(1100px 320px at 16% -14%, rgba(255,255,255,0.72), transparent 60%),
    radial-gradient(820px 320px at 92% 84%, rgba(80, 140, 255, 0.11), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.32), rgba(255,255,255,0.10) 46%, rgba(0,0,0,0.06)),
    linear-gradient(180deg, rgba(255,255,255,0.62), rgba(255,255,255,0.00) 14%);
  opacity: 0.66;
}

:root[data-theme="light"] .glass::after,
:root[data-theme="light"] .glass-subtle::after {
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.38),
    inset 0 -1px 0 rgba(0,0,0,0.10);
}

/* Contact shadow in light */


:root[data-theme="light"] .glass,
:root[data-theme="light"] .glass-subtle {
  box-shadow:
    0 1px 0 rgba(255,255,255,0.70),
    0 10px 26px rgba(0, 0, 0, 0.10),
    0 2px 8px rgba(0, 0, 0, 0.06);
}


/* Environment light blobs */
body::before {
  content: "";
  position: fixed;
  inset: -20vh -20vw;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(1200px 700px at 12% 12%, rgba(255, 255, 255, 0.22), transparent 62%),
    radial-gradient(900px 600px at 78% 18%, rgba(120, 170, 255, 0.14), transparent 60%),
    radial-gradient(1100px 760px at 82% 82%, rgba(255, 230, 240, 0.10), transparent 64%),
    radial-gradient(800px 520px at 20% 86%, rgba(190, 240, 255, 0.14), transparent 62%);
  filter: blur(3px);
  opacity: 1.00;
  transform: translateZ(0);
}

:root[data-theme="dark"] body::before {
  opacity: 0.55;
  background:
    radial-gradient(1200px 700px at 12% 12%, rgba(255, 255, 255, 0.08), transparent 62%),
    radial-gradient(900px 600px at 78% 18%, rgba(120, 170, 255, 0.06), transparent 60%),
    radial-gradient(1100px 760px at 82% 82%, rgba(255, 120, 160, 0.05), transparent 64%),
    radial-gradient(800px 520px at 20% 86%, rgba(90, 210, 255, 0.05), transparent 62%);
}


/* Micro noise film (helps refraction feel real without looking like a texture) */
html::after {
  content: "";
  position: fixed;
  inset: -20vh -20vw;
  pointer-events: none;
  z-index: -1;
  background-image:
    radial-gradient(circle at 20% 30%, rgba(0,0,0,0.06) 0 1px, transparent 2px),
    radial-gradient(circle at 70% 60%, rgba(0,0,0,0.05) 0 1px, transparent 2px),
    radial-gradient(circle at 40% 80%, rgba(0,0,0,0.04) 0 1px, transparent 2px);
  background-size: 180px 180px, 220px 220px, 260px 260px;
  mix-blend-mode: overlay;
  opacity: 0.10;
  filter: blur(0.2px);
  transform: translateZ(0);
}

:root[data-theme="dark"] html::after {
  opacity: 0.16;
}


/* Environment caustics */
body::after {
  content: "";
  position: fixed;
  inset: -20vh -20vw;
  pointer-events: none;
  z-index: -1;
  background:
    radial-gradient(900px 420px at 22% 28%, rgba(255,255,255,0.10), transparent 62%),
    conic-gradient(from 180deg at 50% 50%,
      rgba(255,255,255,0.06),
      rgba(120,170,255,0.05),
      rgba(255,230,240,0.05),
      rgba(190,240,255,0.05),
      rgba(255,255,255,0.06)
    );
  filter: blur(18px);
  opacity: 0.14;
  mix-blend-mode: soft-light;
  animation: causticsFloat 16s ease-in-out infinite;
  transform: translateZ(0);
}

:root[data-theme="dark"] body::after {
  opacity: 0.07;
}


/* Chromatic hint (visionOS-style, extremely subtle) */
.glass::before,
.glass-subtle::before {
  background:
    radial-gradient(1200px 360px at 20% -18%, rgba(255,255,255,0.38), transparent 62%),
    radial-gradient(900px 320px at 86% 88%, rgba(110,180,255,0.10), transparent 62%),
    radial-gradient(900px 320px at 14% 88%, rgba(255,140,190,0.06), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,0.16), rgba(255,255,255,0.05) 42%, rgba(0,0,0,0.10)),
    linear-gradient(180deg, rgba(120,170,255,0.10), rgba(255,230,240,0.06) 18%, rgba(255,255,255,0.00) 40%);
  mix-blend-mode: screen;
}

:root[data-theme="dark"] .glass::before,
:root[data-theme="dark"] .glass-subtle::before {
  opacity: 0.55;
}


@keyframes causticsFloat {
  0% { transform: translate3d(0,0,0) scale(1); filter: blur(18px); }
  50% { transform: translate3d(1.5%, -1%, 0) scale(1.02); filter: blur(20px); }
  100% { transform: translate3d(0,0,0) scale(1); filter: blur(18px); }
}
